(this.webpackJsonpfiel=this.webpackJsonpfiel||[]).push([[0],{43:function(e,a,t){e.exports=t(68)},49:function(e,a,t){},60:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(25),o=t.n(l),c=(t(48),t(49),t(10)),i=t(11),s=t(13),m=t(12),u=t(6),d=(t(60),t(42)),f=t(69),g=t(70),v=t(71),h=t(72),b=function(e){var a=Object(n.useState)(!1),t=Object(d.a)(a,2),l=t[0],o=t[1],c=function(){return o(!l)};return r.a.createElement("div",{id:"ayuda","data-role":"dialog","data-url":"ayuda","data-theme":"d"},r.a.createElement("div",{"data-role":"header"},r.a.createElement("h2",{class:"text-center"},"Ayuda")),r.a.createElement("div",{"data-role":"content"},r.a.createElement("div",null,r.a.createElement("button",{className:"link-button text-info text-left",id:"toggler",href:"#",onClick:c,style:{marginBottom:"1rem"}},r.a.createElement("h5",null,"\xbfQue es la FIEL?")),r.a.createElement(f.a,{toggler:"#toggler"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("p",null,"En ocaciones tambi\xe9n es llamada la e.firma o firma electr\xf3nica y consta de dos archivos y una contrase\xf1a uno de los archivos viene en formato .cer (certificado) llamada llave p\xfablica y el otro archivo en formato .key llamada llave privada. La ",r.a.createElement("b",null,"FIEL")," permite generar sellos electr\xf3nicos de la facturas que se emitan. Otra caracter\xedstica de la ",r.a.createElement("b",null,"FIEL")," es que tiene la misma validez de la firma autografa. "))))),r.a.createElement("div",null,r.a.createElement("button",{className:"link-button text-info text-left",id:"toggler1",onClick:c,style:{marginBottom:"1rem"}},r.a.createElement("h5",null,"\xbfEn que le ayuda este aplicativo?")),r.a.createElement(f.a,{toggler:"#toggler1"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"1.")," Este aplicativo le permite validar la llave privada y p\xfablica generada por el ",r.a.createElement("b",null,"SAT"),". Teniendo como principal virtud que la llave privada y p\xfablica ",r.a.createElement("b",null,"no")," viajen por internet incrementando la seguridad y evitar que pueda ser ",r.a.createElement("b",{class:"text-alert"},"hackeada su firma electr\xf3nica")),r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"2.")," Poder validar las facturas electr\xf3nicas emitidas con los formatos establecido por el SAT. En caso contrario indicar\xe1 que la factura no es valida."),r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"3.")," Firmar electr\xf3nicamente cualquier conjunto de datos. A este aplicativo se le pueden adaptar servicios de datos externos para obtener informaci\xf3n, firmarlos electr\xf3nicamente y generar el sello electr\xf3nico."))))),r.a.createElement("div",null,r.a.createElement("button",{className:"link-button text-info text-left",id:"toggler2",onClick:c,style:{marginBottom:"1rem"}},r.a.createElement("h5",null,"Requisitos:")),r.a.createElement(f.a,{toggler:"#toggler2"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"1.")," Contar con la llave privada y publica las cuales deberan de estar almacenadas en el movil o computador."),r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"2.")," Conocer el password de la llave privada."))))),r.a.createElement("div",null,r.a.createElement("button",{className:"link-button text-info text-left",id:"toggler3",onClick:c,style:{marginBottom:"1rem"}},r.a.createElement("h5",null,"\xbfComo validar la FIEL?")),r.a.createElement(f.a,{toggler:"#toggler3"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"1.")," Cargar la fiel dando un click en la opci\xf3n del menu  ",r.a.createElement("b",{class:"text-info"},'"Cargar FIEL"'),". Aqui el aplicativo le solicitar\xe1 la ubicaci\xf3n de los dos archivos uno con extension key llave privada  y el otro con extensi\xf3n cer llave p\xfablica."),r.a.createElement("p",null,"En el caso de los moviles una de las formas de poder tener las llaves en su equipo es autoenviarse un email que contenga las llaves y descargarlas a su equipo."),r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"2.")," Una vez que ya cargo la FIEL, hay que validarla dando un click en la opci\xf3n del menu  ",r.a.createElement("b",{class:"text-info"},'"Validar Fiel"'),", aqui se solicitara el password y se debera dar click en el boton Validar, Aqui espere un momento ya que se tarda alrededor de 1 minuto. Si esta correcto le envia un saludo con el nombre del propietario de la FIEL."))))),r.a.createElement("div",null,r.a.createElement("button",{className:"link-button text-info text-left",id:"toggler4",onClick:c,style:{marginBottom:"1rem"}},r.a.createElement("h5",null,"\xbfComo validar una factura electr\xf3nica firmada con la FIEL?")),r.a.createElement(f.a,{toggler:"#toggler4"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"1.")," Cargar la factura electronica dando un click en la opci\xf3n del menu ",r.a.createElement("b",{class:"text-info"},'"Cargar FAEL"'),"."),r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"2.")," Dar click en la opci\xf3n del menu ",r.a.createElement("b",{class:"text-info"},'"Valida FAEL"'),"y dar click en el boton ",r.a.createElement("b",{class:"text-info"},"Validar"),", si la factura electronica es valida desplegara el contenido de este caso contrario enviara el mensaje de que la factura electronica no es valida."),r.a.createElement("p",null,"Es importante mencionar que el formato de la factura debe estar en XML"))))),r.a.createElement("div",null,r.a.createElement("button",{className:"link-button text-info text-left",id:"toggler5",onClick:c,style:{marginBottom:"1rem"}},r.a.createElement("h5",null,"\xbfComo firmar un conjunto de datos con la ",r.a.createElement("b",null,"FIEL"),"?")),r.a.createElement(f.a,{toggler:"#toggler5"},r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("p",null,r.a.createElement(h.a,{color:"dark",className:"text-info"},"1.")," Para poder firmar electronicamente un conjunto de datos la ",r.a.createElement("b",null,"FIEL")," debio de haber sido valida previamente."),r.a.createElement("p",null,"Este aplicativo puede adaptarse para comunicarse con otros sistemas con el objetivo de obtener el conjunto de datos a firmar electronicamente y despues de haber generado el sello digital este se puede enviar al sistema que solicito el firmado electronico."),r.a.createElement("p",null,"Se recomienda que los datos a firmar se encuentren en formato json")))))))},p=t(8),E=t(77),k=t(73),x=t(74),y=t(75),N=t(41),j=t(76),w=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={isOpen:!1},n.toggle=n.toggle.bind(Object(p.a)(n)),n.closeNavbar=n.closeNavbar.bind(Object(p.a)(n)),n}return Object(i.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"closeNavbar",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){return console.log("va a renderear Menu.js"),r.a.createElement("div",null,r.a.createElement(k.a,{color:"blue",light:!0,expand:"md"},r.a.createElement(x.a,{to:"/"},"FIEL"),r.a.createElement(y.a,{onClick:this.toggle}),r.a.createElement(N.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(j.a,{className:"ml-auto bg-dark",navbar:!0},r.a.createElement(u.a,{to:"/ayuda",className:"text-info",onClick:this.closeNavbar},"Ayuda"),r.a.createElement(u.a,{to:"/carga",className:"text-info",onClick:this.closeNavbar},"Cargar FIEL"),r.a.createElement(u.a,{to:"/validar",className:"text-info",onClick:this.closeNavbar},"Validar fiel"),r.a.createElement(u.a,{to:"/cargafael",className:"text-info",onClick:this.closeNavbar},"Cargar fael"),r.a.createElement(u.a,{to:"/validarfael",className:"text-info",onClick:this.closeNavbar},"Validar fael"),r.a.createElement(u.a,{to:"/firmar",className:"text-info",onClick:this.closeNavbar},"Firmar electr\xf3nicamente")))))}}]),t}(n.Component),O=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),console.log("entro en el constructor"),(n=a.call(this,e)).nextPath=n.nextPath.bind(Object(p.a)(n)),n}return Object(i.a)(t,[{key:"nextPath",value:function(e){u.e.push(e)}},{key:"render",value:function(){return console.log("va a renderiar Master.js"),r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(E.a,{className:"mt-4"},this.props.children))}}]),t}(n.Component),S=t(78),C=t(86),I=t(79),A=function(){this.wlrfc="",this.llaves="",this.rk="",this.cer="",this.cer1="",this.creainputfile=function(e){var a=document.createElement("input");return a.className="foco",a.setAttribute("type","file"),a.setAttribute("title","hola"),a.setAttribute("name","ficheroin"),a.setAttribute("id","ficheroin"),a.setAttribute("value",null),a.setAttribute("accept",e),a.setAttribute("size","30"),a},this.leefael=function(e){var a,t=new FileReader;t.onload=(a=e.target.files[0],function(e){if(-1===a.name.toLowerCase().indexOf(".xml"))return alert("La factura electronica debe de contar con extension xml"),!1;localStorage.setItem("xml",e.target.result),localStorage.setItem("xml_name",a.name)}),t.onloadend=function(){},t.readAsDataURL(e.target.files[0])},this.leefael_xslt=function(e){var a=new FileReader;a.onload=function(e){if(-1==="cadenaoriginal_3_3.xslt".name.toLowerCase().indexOf(".xslt"))return alert("El Xslt de la factura electronica debe de contar con extension xslt"),!1;localStorage.setItem("xslt",e.target.result)},a.readAsText("cadenaoriginal_3_3.xslt")},this.leefiel=function(e){var a,t=new FileReader;t.onload=(a=e.target.files[0],function(e){if(console.log("empezo onload"+a.name),-1!==a.name.indexOf(".cer"))localStorage.setItem("cer",e.target.result),localStorage.setItem("cer_name",a.name);else{if(-1===a.name.indexOf(".key"))return alert("La firma digital debe de contar con extension cer y key"),!1;localStorage.setItem("key",e.target.result),localStorage.setItem("key_name",a.name)}console.log("termino onload"+a.name)}),t.onloadend=function(){console.log("leefiel termino de cargar")},t.readAsDataURL(e.target.files[0])},this.firmacadena=function(e){return this.rk.updateString(e),this.rk.sign()},this.damecertificado=function(){return this.cer1},this.validaprivada=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""===e)return alert("El password es obligatorio"),!1;if(null==localStorage.getItem("key"))return alert("La llave privada no esta definida"),!1;if(null==localStorage.getItem("cer"))return alert("El certificado no esta definido"),!1;var a=window.forge.pki,t=localStorage.getItem("key").substring(localStorage.getItem("key").indexOf("base64,")+7);t="-----BEGIN ENCRYPTED PRIVATE KEY-----\r\n"+t.chunkString(64)+"-----END ENCRYPTED PRIVATE KEY-----";try{this.rk=a.decryptRsaPrivateKey(t,e)}catch(n){return!1}return!!this.rk},this.damecertiJson=function(e){var a=e.subject.attributes.filter((function(e){return"2.5.4.3"===e.type})),t=e.subject.attributes.filter((function(e){return"2.5.4.45"===e.type})),n=e.subject.attributes.filter((function(e){return"2.5.4.5"===e.type})),r=e.subject.attributes.filter((function(e){return"1.2.840.113549.1.9.1"===e.type}));return{nombre:1===a.length?a[0].value:"",rfc:1===t.length?t[0].value:"",curp:1===n.length?n[0].value:"",email:1===r.length?r[0].value:"",emisor:e.issuer.attributes[0].value,desde:e.validity.notBefore.toJSON(),hasta:e.validity.notAfter.toJSON()}},this.validafiellocal=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prueba";if(this.validaprivada(e,a)){var t=window.forge.md.sha256.create();t.update(a);try{var n=btoa(this.rk.sign(t))}catch(c){return alert(c),!1}console.log("Firmado="+n);var r=this.damecertificadofiel(),l=(new Date).toISOString();if(l>r.validity.notAfter.toJSON()||l<r.validity.notBefore.toJSON())return{ok:!1,msg:"La firma electr\xf3nica no esta vigente"};if("object"==typeof r){(t=window.forge.md.sha256.create()).update(a);var o=r.publicKey.verify(t.digest().bytes(),atob(n));return o?{ok:!0,msg:"La firma electronica es correcta",nombre:r.subject.attributes[0].value,rfc:r.subject.attributes[5].value,curp:r.subject.attributes[6].value,email:r.subject.attributes[4].value,emisor:r.issuer.attributes[0].value,desde:r.validity.notBefore.toJSON(),hasta:r.validity.notAfter.toJSON(),cer:r}:{ok:!1,msg:"La Firma electronica es incorrecta"}}return{ok:!1,msg:"El certificado es erroneo"}}return{ok:!1,msg:"El password de la llave privada es erronea "}},this.cargafael=function(){var e=this.creainputfile("*.xml");return e.addEventListener("change",this.leefael,!1),e.click(),!0},this.firmafael=function(){var e=atob(localStorage.getItem("xml").substring(localStorage.getItem("xml").indexOf("base64,")+7));e=e.replace(/[\s\S]+<\?xml/,"<?xml");var a=this.StringToXMLDom(e),t=window.cadenaoriginal_3_3,n=this.damecadena(a,t);this.validaprivada("888aDantryR",n);var r=window.forge.md.sha256.create();r.update(n);try{var l=btoa(this.rk.sign(r))}catch(o){return alert(o),!1}alert("Firmado="+l)},this.damefaelxml=function(){var e=atob(localStorage.getItem("xml").substring(localStorage.getItem("xml").indexOf("base64,")+7));return e=e.replace(/[\s\S]+<\?xml/,"<?xml"),this.StringToXMLDom(e)},this.validafael=function(){try{var e=window.cadenaoriginal_3_3,a=this.damefaelxml(),t=this.damecadena(a,e),n=this.damecertificadofael();if("object"==typeof n){var r=window.forge.md.sha256.create();r.update(t);var l=this.damesello(a);if(n.publicKey.verify(r.digest().bytes(),atob(l))){var o=this.xmlToJson(a);return{ok:!0,msg:"factura Electronica Valida",certijson:this.damecertiJson(n),faeljson:o}}return{ok:!1,msg:"factura Electronica No Valida"}}return{ok:!1,msg:"No puede leer el certificado"}}catch(c){return{ok:!1,msg:c.message}}},this.damesello=function(e){return e.getElementsByTagName("cfdi:Comprobante")[0].getAttribute("Sello")},this.damecertificadofael=function(){var e=atob(localStorage.getItem("xml").substring(localStorage.getItem("xml").indexOf("base64,")+7));e=e.replace(/[\s\S]+<\?xml/,"<?xml");var a="-----BEGIN CERTIFICATE-----"+this.StringToXMLDom(e).getElementsByTagName("cfdi:Comprobante")[0].getAttribute("Certificado").chunkString(64)+"-----END CERTIFICATE-----",t=window.forge.pki;try{var n=t.certificateFromPem(a)}catch(r){return alert("Error al leer el certificado de la factura electronica"+r),!1}return n},this.damecertificadofiel=function(){this.cer=localStorage.getItem("cer").substring(localStorage.getItem("cer").indexOf("base64,")+7),this.cer1=this.cer,this.cer="-----BEGIN CERTIFICATE-----"+this.cer.chunkString(64)+"-----END CERTIFICATE-----";var e=window.forge.pki;try{var a=e.certificateFromPem(this.cer)}catch(t){return alert("Error al leer el certificado de la firma electronica"+t),!1}return a},this.damecadena=function(e,a){if(window.ActiveXObject||"ActiveXObject"in window)this.ie();else if(document.implementation&&document.implementation.createDocument){var t=new XSLTProcessor;return t.importStylesheet(a),t.transformToDocument(e,document).documentElement.innerText.trim()}},this.cargafiellocal=function(){var e=this.creainputfile(".cer");e.addEventListener("change",this.leefiel,!1),e.click();var a=this.creainputfile(".key");return a.addEventListener("change",this.leefiel,!1),a.click(),console.log("cargafiellocal va a regresar"),{cer:e,key:a}},this.loadXMLDoc=function(e){if(window.ActiveXObject)var a=new window.ActiveXObject("Msxml2.XMLHTTP");else a=new XMLHttpRequest;return a.open("GET",e,!1),a.send(""),a.responseXML},this.StringToXMLDom=function(e){var a=null;window.DOMParser?a=(new DOMParser).parseFromString(e,"text/xml"):((a=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(e));return a},this.xml2json=function(e){try{var a={};if(e.children.length>0)for(var t=0;t<e.children.length;t++){var n=e.children.item(t),r=n.nodeName;if("undefined"==typeof a[r])a[r]=this.xml2json(n);else{if("undefined"==typeof a[r].push){var l=a[r];a[r]=[],a[r].push(l)}a[r].push(this.xml2json(n))}}else a=e.textContent;return a}catch(o){console.log(o.message)}},this.xmlToJson=function(e){var a={};if(1===e.nodeType){if(e.attributes.length>0){a["@attributes"]={};for(var t=0;t<e.attributes.length;t++){var n=e.attributes.item(t);a["@attributes"][n.nodeName]=n.nodeValue}}}else 3===e.nodeType&&(a=e.nodeValue);if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var l=e.childNodes.item(r),o=l.nodeName;if("undefined"==typeof a[o])a[o]=this.xmlToJson(l);else{if("undefined"==typeof a[o].push){var c=a[o];a[o]=[],a[o].push(c)}a[o].push(this.xmlToJson(l))}}return a}},L=null,T=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).onChangeHandler=function(e){console.log(e.target.files[0])},n.nextPath=n.nextPath.bind(Object(p.a)(n)),n.state={cer_name:"",key_name:""},n.cargar=n.cargar.bind(Object(p.a)(n)),n.cambio=n.cambio.bind(Object(p.a)(n)),n}return Object(i.a)(t,[{key:"nextPath",value:function(e){u.e.push(e)}},{key:"componentDidMount",value:function(){var e=this;L=setInterval((function(){return e.cambio()}),2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(L)}},{key:"cambio",value:function(){console.log("entro en cambio"),null!=localStorage.getItem("cer_name")?this.setState({cer_name:localStorage.getItem("cer_name")}):this.setState({cer_name:null}),null!=localStorage.getItem("key_name")?this.setState({key_name:localStorage.getItem("key_name")}):this.setState({key_name:null})}},{key:"cargar",value:function(){var e=new A;console.log("cargar"),e.cargafiellocal()}},{key:"render",value:function(){var e=this.state,a=e.cer_name,t=e.key_name;return r.a.createElement("div",{id:"ayuda"},r.a.createElement("h2",{class:"text-center"},"Cargar firma electr\xf3nica"),r.a.createElement(S.a,{class:"container"},a&&r.a.createElement(C.a,null,"Ubicacion de la llave p\xfablica ",a),t&&r.a.createElement(C.a,null,"Ubicaci\xf3n de la llave privada ",t),!a&&r.a.createElement(C.a,{color:"danger"},"A\xfan no esta ubicada la llave p\xfablica"),!t&&r.a.createElement(C.a,{color:"danger"},"A\xfan no esta ubicada la llave privada"),r.a.createElement(I.a,{color:"primary",onClick:this.cargar},"Cargar")))}}]),t}(n.Component),F=t(80),P=t(81),_=t(82),q=t(83),D=t(84),M=t(85),R=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).nextPath=n.nextPath.bind(Object(p.a)(n)),n.state={ok:!1,nook:!1,msg:"",nombre:"",rfc:"",curp:"",email:"",emisor:"",desde:null,hasta:null},n.validafirma=n.validafirma.bind(Object(p.a)(n)),n}return Object(i.a)(t,[{key:"nextPath",value:function(e){u.e.push(e)}},{key:"componentDidMount",value:function(){}},{key:"validafirma",value:function(){var e=(new A).validafiellocal(document.querySelector("#pwdfiel").value);console.log("x="+JSON.stringify(e)),!0===e.ok&&this.setState({ok:!0,nook:!1,nombre:e.nombre,rfc:e.rfc,curp:e.curp,email:e.email,emisor:e.emisor,desde:e.desde,hasta:e.hasta}),!1===e.ok&&this.setState({ok:!1,nook:!0,msg:e.msg})}},{key:"render",value:function(){console.log("render carga");var e=this.state,a=e.ok,t=e.nook,n=e.msg,l=e.nombre,o=e.rfc,c=e.curp,i=e.email,s=e.emisor,m=e.desde,u=e.hasta;return r.a.createElement("div",{id:"ayuda",class:"container"},r.a.createElement("h2",{className:"text-center"},"Validar firma electr\xf3nica"),r.a.createElement(E.a,{className:"border p-2 mb-3"},r.a.createElement(S.a,{class:"container"},r.a.createElement(F.a,{for:"pwdfiel"},"Contrase\xf1a de la llave privada"),r.a.createElement(P.a,{type:"password",name:"password",id:"pwdfiel",placeholder:"contrase\xf1a"})),r.a.createElement("div",{class:"flex-col d-flex justify-content-center"},r.a.createElement(I.a,{color:"primary",onClick:this.validafirma},"Validar"))),a&&r.a.createElement(E.a,{id:"ok",className:"border p-2 mb-3"},r.a.createElement(C.a,{color:"success",className:"text-center"},"Felicidades tu llave p\xfablica y privada corresponden entre si y tu password corresponde a tu llave privada"),r.a.createElement(g.a,null,r.a.createElement(_.a,{color:"success",className:"text-center"},l),r.a.createElement(v.a,null,r.a.createElement(q.a,{className:"text-center"},o),r.a.createElement(D.a,{className:"text-center"},c),r.a.createElement(D.a,{className:"text-center"},i),r.a.createElement(D.a,{className:"text-center"},"Vigencia del ",r.a.createElement("b",null,m)," al ",r.a.createElement("b",null,u))),r.a.createElement(M.a,{className:"text-center"},s))),t&&r.a.createElement(E.a,{id:"nook",className:"border p-2 mb-3"},r.a.createElement(C.a,{color:"danger"}," ",n," ")))}}]),t}(n.Component),V=null,X=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).onChangeHandler=function(e){console.log(e.target.files[0])},n.nextPath=n.nextPath.bind(Object(p.a)(n)),n.state={xml_name:""},n.cargar=n.cargar.bind(Object(p.a)(n)),n.cambio=n.cambio.bind(Object(p.a)(n)),n}return Object(i.a)(t,[{key:"nextPath",value:function(e){u.e.push(e)}},{key:"componentDidMount",value:function(){var e=this;V=setInterval((function(){return e.cambio()}),2e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(V)}},{key:"cambio",value:function(){console.log("entro en cambio"),null!=localStorage.getItem("xml_name")?this.setState({xml_name:localStorage.getItem("xml_name")}):this.setState({xml_name:null})}},{key:"cargar",value:function(){(new A).cargafael()}},{key:"render",value:function(){var e=this.state.xml_name;return r.a.createElement("div",{id:"ayuda"},r.a.createElement("h2",{class:"text-center"},"Cargar factura electr\xf3nica"),r.a.createElement(S.a,{class:"container"},e&&r.a.createElement(C.a,null,"Ubicacion de la factura electr\xf3nica ",e),!e&&r.a.createElement(C.a,{color:"danger"},"A\xfan no esta ubicada la factura"),r.a.createElement(I.a,{color:"primary",onClick:this.cargar},"Cargar")))}}]),t}(n.Component),B=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).nextPath=n.nextPath.bind(Object(p.a)(n)),n.state={ok:!1,nook:!1,msg:"",certijson:{}},n.validafael=n.validafael.bind(Object(p.a)(n)),n}return Object(i.a)(t,[{key:"nextPath",value:function(e){u.e.push(e)}},{key:"componentDidMount",value:function(){}},{key:"validafael",value:function(){var e=(new A).validafael();console.log("x="+JSON.stringify(e)),!0===e.ok&&this.setState({ok:!0,nook:!1,certijson:e.certijson}),!1===e.ok&&this.setState({ok:!1,nook:!0,msg:e.msg})}},{key:"render",value:function(){console.log("render carga");var e=this.state,a=e.ok,t=e.nook,n=e.msg,l=e.certijson;return r.a.createElement("div",{id:"ayuda",class:"container"},r.a.createElement("h2",{className:"text-center"},"Validar factura electr\xf3nica"),r.a.createElement(E.a,{className:"border p-2 mb-3"},r.a.createElement("div",{class:"flex-col d-flex justify-content-center"},r.a.createElement(I.a,{color:"primary",onClick:this.validafael},"Validar"))),a&&r.a.createElement(E.a,{id:"ok",className:"border p-2 mb-3"},r.a.createElement(C.a,{color:"success",className:"text-center"},"Felicidades la factura electr\xf3nica checa el sello contra el certificado"),r.a.createElement(g.a,null,r.a.createElement(_.a,{color:"success",className:"text-center"},"Certificado"),r.a.createElement(v.a,null,r.a.createElement(q.a,{className:"text-center"},l.rfc),r.a.createElement(D.a,{color:"success",className:"text-center"},l.nombre),r.a.createElement(D.a,{className:"text-center"},l.curp),r.a.createElement(D.a,{className:"text-center"},l.email),r.a.createElement(D.a,{className:"text-center"},"Vigencia del ",r.a.createElement("b",null,l.desde)," al ",r.a.createElement("b",null,l.hasta))),r.a.createElement(M.a,{className:"text-center"},l.emisor))),t&&r.a.createElement(E.a,{id:"nook",className:"border p-2 mb-3"},r.a.createElement(C.a,{color:"danger"}," ",n," ")))}}]),t}(n.Component),J=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return console.log("renderieo app"),r.a.createElement(u.d,{history:u.e},r.a.createElement(u.c,{path:"/",component:O},r.a.createElement(u.c,{path:"/ayuda",component:b}),r.a.createElement(u.c,{path:"/carga",component:T}),r.a.createElement(u.c,{path:"/validar",component:R}),r.a.createElement(u.c,{path:"/cargafael",component:X}),r.a.createElement(u.c,{path:"/validarfael",component:B})),r.a.createElement(u.b,{from:"/",to:"/"}))}}]),t}(n.Component);u.e.push("/");var U=J,W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),console.log("entro por aqui"),function(e){if("serviceWorker"in navigator){if(new URL("/fiel",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/fiel","/sw.js");W?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(a,e)}))}}()}},[[43,1,2]]]);
//# sourceMappingURL=main.aacfde1f.chunk.js.map